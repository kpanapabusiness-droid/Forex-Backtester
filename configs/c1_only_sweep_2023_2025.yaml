# C1-only sweep configuration for all pairs (2023-01-01 to 2025-02-01)
# This config is used by scripts/run_c1_sweep_all_pairs.py

role_filters: ["c1"]

discover:
  c1: true
  c2: false
  baseline: false
  volume: false
  exit: false

# All C1 indicators (auto-discovered from indicators/confirmation_funcs.py)
allowlist:
  c1: []  # Empty = use all discovered C1 indicators

blocklist:
  c1: []  # No exclusions

roles:
  c1: []   # Auto-discover from allowlist

default_params:
  c1: {}

# Fixed configuration for all runs
static_overrides:
  timeframe: "D"
  data_dir: "data/daily"
  date_range:
    start: "2023-01-01"
    end: "2025-02-01"
  indicators:
    use_c2: false
    use_baseline: false
    use_volume: false
    use_exit: false
  rules:
    one_candle_rule: false
    pullback_rule: false
    bridge_too_far_days: 7
    allow_baseline_as_catalyst: false
  entry:
    sl_atr: 1.5
    tp1_atr: 1.0
    trail_after_atr: 2.0
    ts_atr: 1.5
  execution:
    intrabar_priority: "tp_first"
  engine:
    allow_continuation: true
    duplicate_open_policy: "block"
  continuation:
    allow_continuation: false
    skip_volume_check: false
    skip_pullback_check: false
    block_if_crossed_baseline_since_entry: false
  exit:
    use_trailing_stop: true
    move_to_breakeven_after_atr: true
    exit_on_c1_reversal: true
    exit_on_baseline_cross: false
    exit_on_exit_signal: false
  spreads:
    enabled: false
    default_pips: 0.0
    per_pair: {}
    mode: "fixed"
    atr_mult: 0.0
  filters:
    dbcvix:
      enabled: false
      mode: "reduce"
      threshold: null
      reduce_risk_to: 1.0
      source: "synthetic"
      csv_path: "data/external/dbcvix_synth.csv"
  risk:
    starting_balance: 10000.0
    risk_per_trade_pct: 2.0
    risk_per_trade: 0.02
    account_ccy: "USD"
    fx_quotes: {}
  cache:
    enabled: true
    dir: "cache"
    format: "parquet"
    scope_key: null
    roles: null
  validation:
    enabled: true
    fail_fast: true
    strict_contract: false
  tracking:
    track_win_loss_scratch: true
    track_roi: true
    track_drawdown: true
    in_sim_equity: true
    verbose_logs: false

# All pairs will be swept (handled by runner script)
# pairs: []  # Will be populated by runner script from data/daily/

parallel:
  workers: auto
  max_runs: null

scoring:
  roi_pct_w: 1.0
  max_dd_w: 0.7
  trades_penalty_w: 0.0
  min_trades: 0

