# Phase 6.1 â€” full backtest with spreads ON, risk_per_trade = 0.0025 (identical to phase6_spread_full otherwise)
# Use: python -m core.backtester -c configs/phase6_1_spread_full.yaml

pairs:
  - AUD_CAD
  - AUD_CHF
  - AUD_JPY
  - AUD_NZD
  - AUD_USD
  - CAD_CHF
  - CAD_JPY
  - CHF_JPY
  - EUR_AUD
  - EUR_CAD
  - EUR_CHF
  - EUR_GBP
  - EUR_JPY
  - EUR_NZD
  - EUR_USD
  - GBP_AUD
  - GBP_CAD
  - GBP_CHF
  - GBP_JPY
  - GBP_NZD
  - GBP_USD
  - NZD_CAD
  - NZD_CHF
  - NZD_JPY
  - NZD_USD
  - USD_CAD
  - USD_CHF
  - USD_JPY

timeframe: D

data:
  dir: data/daily

date_range:
  start: "2020-01-01"
  end: "2020-12-31"

indicators:
  c1: c1_is_calculation
  use_c2: false
  use_baseline: true
  baseline: baseline_ema
  use_volume: false
  use_exit: true
  exit: exit_twiggs_money_flow

rules:
  one_candle_rule: false
  pullback_rule: false
  bridge_too_far_days: 7
  allow_baseline_as_catalyst: false

entry:
  atr_multiple: 2.0

engine:
  allow_continuation: true
  duplicate_open_policy: block

exit:
  use_trailing_stop: true
  move_to_breakeven_after_atr: true
  exit_on_c1_reversal: true
  exit_on_baseline_cross: false
  exit_on_exit_signal: true

spreads:
  enabled: true
  default_pips: 1.0
  points_per_pip: 10.0

tracking:
  in_sim_equity: true
  track_win_loss_scratch: true
  track_roi: true
  track_drawdown: true

risk_filters:
  dbcvix:
    enabled: false
    mode: reduce
    threshold: 0.0
    reduce_risk_to: 0.01
    source: synthetic

risk:
  starting_balance: 10000.0
  risk_per_trade: 0.0025
  account_ccy: USD

output:
  slug: phase6_1-full
  results_dir: results/phase6_1_full
  write_trades_csv: true
  write_summary_txt: true
  write_equity_curve_csv: true
